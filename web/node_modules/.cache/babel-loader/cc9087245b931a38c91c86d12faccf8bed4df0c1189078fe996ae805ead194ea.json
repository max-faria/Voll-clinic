{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nexport default function usePost() {\n  _s();\n  const [erro, setErro] = useState('');\n  const [sucesso, setSucesso] = useState(false);\n  const [resposta, setResposta] = useState('');\n  async function cadastrarDados(_ref) {\n    let {\n      url,\n      dados,\n      token\n    } = _ref;\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    try {\n      const resposta = await fetch(`http://localhost:8080/${url}`, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify(dados)\n      });\n      setSucesso(true);\n      console.log(resposta);\n      const respostaConvertida = await resposta.json();\n      setTimeout(() => {\n        setResposta(respostaConvertida.token);\n      }, 10);\n      console.log(resposta);\n    } catch (erro) {\n      setErro('Não foi possível enviar os dados');\n    }\n  }\n  return {\n    cadastrarDados,\n    sucesso,\n    erro,\n    resposta\n  };\n}\n_s(usePost, \"yIvGSbqO5JtI/jvWWWSaw+GLkU8=\");","map":{"version":3,"names":["useState","usePost","_s","erro","setErro","sucesso","setSucesso","resposta","setResposta","cadastrarDados","_ref","url","dados","token","headers","fetch","method","body","JSON","stringify","console","log","respostaConvertida","json","setTimeout"],"sources":["/Users/maxfaria/Documents/GitHub/voll/web/src/usePost.ts"],"sourcesContent":["import { useState } from \"react\";\n\nexport default function usePost() {\n        const [erro, setErro] = useState('')\n        const [sucesso, setSucesso] = useState(false)\n        const [resposta, setResposta] = useState('')\n\n        async function cadastrarDados<T>({url, dados, token}:{url: string, dados: T, token?:string}) {\n            const headers: HeadersInit = {\n                'Content-Type': 'application/json'\n            }\n\n            if(token){\n                headers['Authorization'] =  `Bearer ${token}`;\n            }\n\n            try{\n                const resposta = await fetch (`http://localhost:8080/${url}`, {\n                    method: 'POST',\n                    headers,\n                    body: JSON.stringify(dados)\n                })\n                setSucesso(true)\n                console.log(resposta)\n                const respostaConvertida = await resposta.json();\n\n                setTimeout(() => {\n                    setResposta(respostaConvertida.token)\n                }, 10);\n                console.log(resposta)\n            }catch (erro) {\n                setErro('Não foi possível enviar os dados')\n            }\n        }\n        return {cadastrarDados, sucesso, erro, resposta}\n}"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAC1B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAE5C,eAAeS,cAAcA,CAAAC,IAAA,EAAgE;IAAA,IAA5D;MAACC,GAAG;MAAEC,KAAK;MAAEC;IAA4C,CAAC,GAAAH,IAAA;IACvF,MAAMI,OAAoB,GAAG;MACzB,cAAc,EAAE;IACpB,CAAC;IAED,IAAGD,KAAK,EAAC;MACLC,OAAO,CAAC,eAAe,CAAC,GAAK,UAASD,KAAM,EAAC;IACjD;IAEA,IAAG;MACC,MAAMN,QAAQ,GAAG,MAAMQ,KAAK,CAAG,yBAAwBJ,GAAI,EAAC,EAAE;QAC1DK,MAAM,EAAE,MAAM;QACdF,OAAO;QACPG,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,KAAK;MAC9B,CAAC,CAAC;MACFN,UAAU,CAAC,IAAI,CAAC;MAChBc,OAAO,CAACC,GAAG,CAACd,QAAQ,CAAC;MACrB,MAAMe,kBAAkB,GAAG,MAAMf,QAAQ,CAACgB,IAAI,EAAE;MAEhDC,UAAU,CAAC,MAAM;QACbhB,WAAW,CAACc,kBAAkB,CAACT,KAAK,CAAC;MACzC,CAAC,EAAE,EAAE,CAAC;MACNO,OAAO,CAACC,GAAG,CAACd,QAAQ,CAAC;IACzB,CAAC,QAAOJ,IAAI,EAAE;MACVC,OAAO,CAAC,kCAAkC,CAAC;IAC/C;EACJ;EACA,OAAO;IAACK,cAAc;IAAEJ,OAAO;IAAEF,IAAI;IAAEI;EAAQ,CAAC;AACxD;AAACL,EAAA,CAjCuBD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}